{"filename":"/home/admin/Github/game-docs/database.json","collections":[{"name":"documents","data":[{"path":"/api","id":0,"name":"api","type":"node","order":1,"title":"Rest Api","meta":{"revision":0,"created":1730426968176,"version":0},"$loki":1},{"path":"/api/Authentication","id":1,"parent":0,"name":"Authentication","type":"node","meta":{"revision":0,"created":1730426968177,"version":0},"$loki":2},{"path":"/api/Authentication/player_login.md","id":2,"parent":1,"type":"child","text":"\n\n\n# Login\n\nAn endpoint to exchange credentials for an access_token, which is required to consume any endpoint of the api\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/oauth2/token`\n\n**Method** : `POST`\n\n**Auth required** : No\n\n## Request\n\n**type: form**\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| username  |  Jane | player username |\n| password  |  Doe | player password |\n| grant_type  |  password | oauth2 grant type for interactive login |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/x-www-form-urlencoded | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200,\n    \"message\": \"success\",\n    \"content\": {\n      \"access_token\": \"eyJhbGciOiJIUzI1Ni\",\n      \"expires_in\": \"3600s\"\n    }\n}\n```\n\n**Response Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| access_token  |  eyJhbGciOiJIUzI1Ni | bearer token to be sent as Authorization header to the api|\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"player_login.md","order":2,"title":"Player login","meta":{"revision":0,"created":1730426968178,"version":0},"$loki":3},{"path":"/api/Authentication/token_introspection.md","id":3,"parent":1,"type":"child","text":"\n\n\n# Token introspection\n\nAn endpoint to get information about an access token. More details [here](https://www.oauth.com/oauth2-servers/token-introspection-endpoint/)\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/oauth2/token/introspect`\n\n**Method** : `POST`\n\n**Auth required** : No\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"token\": \"******\"\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| token  |  **** | The token |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"subject_identifier\": \"patterson1\",\n        \"type\": \"acc\",\n        \"iat\": 1688609027,\n        \"exp\": 1688645027,\n        \"active\": true\n    }\n}\n```\n\n**Response Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| exp  |  1688645027 | The unix timestamp (integer timestamp, number of seconds since January 1, 1970 UTC) indicating when this token will expire. |\n| active  |  true | This is a boolean value of whether or not the presented token is currently active. The value should be “true” if the token has been issued by this authorization server, has not been revoked by the user, and has not expired. |\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"token_introspection.md","order":4,"title":"Token introspection","meta":{"revision":0,"created":1730426968178,"version":0},"$loki":4},{"path":"/api/Country","id":4,"parent":0,"name":"Country","type":"node","meta":{"revision":0,"created":1730426968178,"version":0},"$loki":5},{"path":"/api/Country/Get country details.md","id":5,"parent":4,"type":"child","text":"\n\n\n# Get country details\n\nAn endpoint to get the country details based in the player geo location\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/country/query/find-by-position`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"latitude\":\"31.3223787\",\n    \"longitude\":\"75.5033791\"\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| latitude  |  31.3223787 | just the latitude |\n| longitude  |  75.5033791 | just the longitude |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"id\": 103,\n        \"raw_name\": \"india\",\n        \"country_name\": \"India\",\n        \"alpha2_code\": \"IN\",\n        \"alpha3_code\": \"IND\"\n    }\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Get country details.md","order":4,"title":"Get country details","meta":{"revision":0,"created":1730426968179,"version":0},"$loki":6},{"path":"/api/Creatures","id":6,"parent":0,"name":"Creatures","type":"node","meta":{"revision":0,"created":1730426968179,"version":0},"$loki":7},{"path":"/api/Creatures/Get creatures by gateway uuid.md","id":7,"parent":6,"type":"child","text":"\n\n\n# Get creatures by gateway uuid\n\nAn endpoint to get all the alive creatures of a single gateway using the gateway uuid\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/creature/query/find-by-gateway-uuid`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"gateway_uuid\":\"55dcd842-713d-4b09-be48-18d20d3d9cd8\"\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| latitude  |  31.3223787 | just the latitude |\n| longitude  |  75.5033791 | just the longitude |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": [\n        {\n            \"uuid\": \"103f44b8-26df-4994-b8d3-f4325060b548\",\n            \"name\": \"Baggi Green Plaingrazer\",\n            \"current_hp\": 30,\n            \"class\": 1\n        },\n        {\n            \"uuid\": \"fdca87af-ad0b-4691-9843-ca2aebb53c0e\",\n            \"name\": \"Anjanath Flying Vibraxas\",\n            \"current_hp\": 30,\n            \"class\": 3\n        },...\n    ]    \n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Get creatures by gateway uuid.md","order":4,"title":"Get creatures by gateway uuid","meta":{"revision":0,"created":1730426968179,"version":0},"$loki":8},{"path":"/api/Cycle","id":8,"parent":0,"name":"Cycle","type":"node","meta":{"revision":0,"created":1730426968179,"version":0},"$loki":9},{"path":"/api/Cycle/Get current cycle details.md","id":9,"parent":8,"type":"child","text":"\n\n\n# Get current cycle details\n\nShow the current cycle details\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/v1/cycle`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"country_id\" : 174\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| country_id  | 103 | country id obtained early and saved in the cache |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"due_datetime\": \"2024-11-20T19:48:00.000Z\",\n        \"next_due_datetime\": \"2024-12-20T19:48:00.000Z\"\n    }\n}\n```\n\n**Response Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| due_datetime  | 2024-11-20T19:48:00.000Z | current cycle due date |\n| next_due_datetime  | 2024-11-20T19:48:00.000Z | next cycle due date |\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Get current cycle details.md","order":1,"title":"Get current cycle details","meta":{"revision":0,"created":1730426968180,"version":0},"$loki":10},{"path":"/api/Easter Egg","id":10,"parent":0,"name":"Easter Egg","type":"node","meta":{"revision":0,"created":1730426968180,"version":0},"$loki":11},{"path":"/api/Easter Egg/Easter Egg Simple.md","id":11,"parent":10,"type":"child","text":"\n\n\n# Easter Egg Simple\n\nAn endpoint to get return a text to be showed if the easter egg is completed by the player\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/easter-egg/simple`\n\n**Method** : `GET`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n- \n\n\n**Request Fields Description**\n\n- \n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200,\n    \"message\": \"success\",\n    \"content\": \"Made by Acme Corporation\"\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Easter Egg Simple.md","order":4,"title":"Easter Egg Simple","meta":{"revision":0,"created":1730426968181,"version":0},"$loki":12},{"path":"/api/Gateways","id":12,"parent":0,"name":"Gateways","type":"node","meta":{"revision":0,"created":1730426968181,"version":0},"$loki":13},{"path":"/api/Gateways/Get gateways by country id.md","id":13,"parent":12,"type":"child","text":"\n\n\n# Get gateways by country id\n\nAn endpoint to get the gateway locations based in the player geo location\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/user/gateways/country`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"country_id\":174\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| latitude  |  31.3223787 | just the latitude |\n| longitude  |  75.5033791 | just the longitude |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": [\n        {\n            \"uuid\": \"f1bf57cc-3ce8-415b-8136-96bc058e791f\",\n            \"latitude\": 55.5508346,\n            \"longitude\": 24.1063003,\n            \"name\": \"Ladder to hell\",\n            \"address\": \"3007 20, Krekenava, 38306 Panevėžio r. sav., Lithuania\",\n            \"description\": \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium\",\n            \"status\": \"O\",\n            \"level\": 1,\n            \"position\": 1,\n            \"googleMapUrl\": \"https://maps.app.goo.gl/n4se1Tyn5NvGizCq8\"\n        },\n        {\n            \"uuid\": \"dc688f41-6848-4894-a535-c2cc64b23639\",\n            \"latitude\": 54.5746523,\n            \"longitude\": -23.3654854,\n            \"name\": \"Nemunas cemetery\",\n            \"address\": \"Kauno g. 125, Marijampolė, 68222 Marijampolės sav., Lithuania\",\n            \"description\": \"An ancient cemetery of Nemunas people\",\n            \"status\": \"O\",\n            \"level\": 1,\n            \"position\": 1,\n            \"googleMapUrl\": \"https://maps.app.goo.gl/qxDHcfNHQrKvS8Jb8\"\n        }\n    ]\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Get gateways by country id.md","order":4,"title":"Get gateways by country id","meta":{"revision":0,"created":1730426968181,"version":0},"$loki":14},{"path":"/api/Gateways/Get gateways by geolocation.md","id":14,"parent":12,"type":"child","text":"\n\n\n# Get gateways by geolocation\n\nAn endpoint to get the gateway locations based in the player geo location\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/user/gateways`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"latitude\":\"31.3223787\",\n    \"longitude\":\"75.5033791\"\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| latitude  |  31.3223787 | just the latitude |\n| longitude  |  75.5033791 | just the longitude |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": [\n        {\n            \"uuid\": \"f1bf57cc-3ce8-415b-8136-96bc058e791f\",\n            \"latitude\": 55.5508346,\n            \"longitude\": 24.1063003,\n            \"name\": \"Ladder to hell\",\n            \"address\": \"3007 20, Krekenava, 38306 Panevėžio r. sav., Lithuania\",\n            \"description\": \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium\",\n            \"status\": \"O\",\n            \"level\": 1,\n            \"position\": 1,\n            \"googleMapUrl\": \"https://maps.app.goo.gl/n4se1Tyn5NvGizCq8\"\n        },\n        {\n            \"uuid\": \"dc688f41-6848-4894-a535-c2cc64b23639\",\n            \"latitude\": 54.5746523,\n            \"longitude\": -23.3654854,\n            \"name\": \"Nemunas cemetery\",\n            \"address\": \"Kauno g. 125, Marijampolė, 68222 Marijampolės sav., Lithuania\",\n            \"description\": \"An ancient cemetery of Nemunas people\",\n            \"status\": \"O\",\n            \"level\": 1,\n            \"position\": 1,\n            \"googleMapUrl\": \"https://maps.app.goo.gl/qxDHcfNHQrKvS8Jb8\"\n        }\n    ]\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Get gateways by geolocation.md","order":4,"title":"Get gateways by geolocation","meta":{"revision":0,"created":1730426968181,"version":0},"$loki":15},{"path":"/api/Inventory","id":15,"parent":0,"name":"Inventory","type":"node","meta":{"revision":0,"created":1730426968182,"version":0},"$loki":16},{"path":"/api/Inventory/Get Player Inventory Items.md","id":16,"parent":15,"type":"child","text":"\n\n\n# Get Player Inventory Items\n\nGet the items of player inventory\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/inventory/items`\n\n**Method** : `GET`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n- \n\n\n**Request Fields Description**\n\n- \n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"items\": [\n            {\n                \"name\": \"Water Potion\",\n                \"description\": \"A sharp sword made of iron.\",\n                \"quantity\": 48,\n                \"category\": \"weapons\",\n                \"stackable\": false,\n                \"consumable\": false,\n                \"disabled\": false,\n                \"shareable\": false,\n                \"thumbnailImageId\": \"potion_watter.png\",\n                \"spell\": \"swift-current-dance\",\n                \"spellIdentifier\": \"swift-current-dance\"\n            },\n            {\n                \"name\": \"Plant Potion\",\n                \"description\": \"A vial of red liquid used for healing.\",\n                \"category\": \"potions\",\n                \"quantity\": 35,\n                \"stackable\": true,\n                \"consumable\": true,\n                \"disabled\": false,\n                \"shareable\": false,\n                \"thumbnailImageId\": \"potion_plant.png\",\n                \"spell\": \"swift-current-dance\",\n                \"spellIdentifier\": \"swift-current-dance\"\n            },\n            {\n                \"name\": \"Fire Potion\",\n                \"description\": \"A vial of red liquid used for healing.\",\n                \"category\": \"potions\",\n                \"quantity\": 14,\n                \"stackable\": true,\n                \"consumable\": true,\n                \"disabled\": false,\n                \"shareable\": false,\n                \"thumbnailImageId\": \"potion_fire.png\",\n                \"spell\": \"swift-current-dance\",\n                \"spellIdentifier\": \"swift-current-dance\"\n            },\n            {\n                \"name\": \"Dark Potion\",\n                \"description\": \"A vial of red liquid used for healing.\",\n                \"category\": \"potions\",\n                \"quantity\": 45,\n                \"stackable\": true,\n                \"consumable\": true,\n                \"disabled\": false,\n                \"shareable\": false,\n                \"thumbnailImageId\": \"potion_dark.png\",\n                \"spell\": \"swift-current-dance\",\n                \"spellIdentifier\": \"swift-current-dance\"\n            },\n            {\n                \"name\": \"Elixir of resurrection\",\n                \"description\": \"A vial of red liquid used for healing.\",\n                \"category\": \"potions\",\n                \"quantity\": 1,\n                \"stackable\": true,\n                \"consumable\": true,\n                \"disabled\": false,\n                \"shareable\": true,\n                \"thumbnailImageId\": \"elixir_resurrect.png\",\n                \"spell\": \"swift-current-dance\",\n                \"spellIdentifier\": \"swift-current-dance\"\n            },\n            {\n                \"name\": \"Sukuna's Finger\",\n                \"description\": \"A vial of red liquid used for healing.\",\n                \"category\": \"potions\",\n                \"quantity\": 2,\n                \"stackable\": true,\n                \"consumable\": true,\n                \"disabled\": false,\n                \"thumbnailImageId\": \"sukunas_finger.png\",\n                \"spell\": \"swift-current-dance\",\n                \"spellIdentifier\": \"swift-current-dance\"\n            },\n            {\n                \"name\": \"Health Potion\",\n                \"description\": \"A vial of red liquid used for healing.\",\n                \"category\": \"potions\",\n                \"quantity\": 34,\n                \"stackable\": true,\n                \"consumable\": true,\n                \"disabled\": false,\n                \"thumbnailImageId\": \"potion_health.png\",\n                \"spell\": \"swift-current-dance\",\n                \"spellIdentifier\": \"swift-current-dance\"\n            }\n        ]\n    }\n}\n```\n\n**Response Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| quantity  |  21 | item quantity in the inventory |\n| thumbnailImageId  |  potion_health.png | image to be used in the game inventory gallery |\n| disabled  |  true | if it is true, show it disabled or gray. If user clicks on it, nothing will happen |\n\n\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Get Player Inventory Items.md","order":1,"title":"Get Player Inventory Items","meta":{"revision":0,"created":1730426968182,"version":0},"$loki":17},{"path":"/api/Rank","id":17,"parent":0,"name":"Rank","type":"node","meta":{"revision":0,"created":1730426968182,"version":0},"$loki":18},{"path":"/api/Rank/List factions points.md","id":18,"parent":17,"type":"child","text":"\n\n\n# List factions points\n\nList of the ranked players\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/v1/rank/faction`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"country_id\" : 174\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| country_id  | 103 | country id obtained early and saved in the cache |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": [\n        {\n            \"factionName\": \"water\",\n            \"points\": 120,\n            \"awarded\": true\n        },\n        {\n            \"factionName\": \"fire\",\n            \"points\": 118,\n            \"awarded\": true\n        },\n        {\n            \"factionName\": \"plant\",\n            \"points\": 100,\n            \"awarded\": false\n        },\n        {\n            \"factionName\": \"dark\",\n            \"points\": 37,\n            \"awarded\": false\n        }\n    ]\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"List factions points.md","order":2,"title":"List factions points","meta":{"revision":0,"created":1730426968183,"version":0},"$loki":19},{"path":"/api/Rank/List ranked players.md","id":19,"parent":17,"type":"child","text":"\n\n\n# List ranked players\n\nList of the ranked players\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/v1/rank/player`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"country_id\" : 174\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| country_id  | 103 | country id obtained early and saved in the cache |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": [\n        {\n            \"username\": \"wolf666\",\n            \"points\": 150,\n            \"awarded\": true\n        },\n        {\n            \"username\": \"janedoe\",\n            \"points\": 139,\n            \"awarded\": true\n        },\n        {\n            \"username\": \"sukuna777\",\n            \"points\": 17,\n            \"awarded\": false\n        }\n    ]\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"List ranked players.md","order":1,"title":"List ranked players","meta":{"revision":0,"created":1730426968183,"version":0},"$loki":20},{"path":"/api/Room","id":20,"parent":0,"name":"Room","type":"node","meta":{"revision":0,"created":1730426968184,"version":0},"$loki":21},{"path":"/api/Room/Create Creature Room.md","id":21,"parent":20,"type":"child","text":"\n\n\n# Create Creature Room\n\nAn endpoint to initialize a room for hunting real creatures\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/room/creature`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n```json\n{\n    \"creatureUuid\" : \"72f35e0d-7d67-4a62-9efc-58df44254a1f\"\n}\n```\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| creatureUuid  |  58df44254a1f | creature uuid obtained when creature was clicked |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"room_uuid\": \"02eb3caa-cd52-49ff-ad5d-3f4d68efe977\"\n    }\n}\n```\n\n**Response Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| room_uuid  |  e1ea105b | room uuid to be used during the training (socket events) |\n\n\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Create Creature Room.md","order":1,"title":"Crete Creature Room","meta":{"revision":0,"created":1730426968184,"version":0},"$loki":22},{"path":"/api/Room/Create Training Room.md","id":22,"parent":20,"type":"child","text":"\n\n\n# Create Training Room\n\nAn endpoint to initialize a room for training\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/room-training`\n\n**Method** : `GET`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n- \n\n\n**Request Fields Description**\n\n- \n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"room_uuid\": \"e1ea105b-7e6a-4b74-aa69-5af3a3a4ed37\"\n    }\n}\n```\n\n**Response Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| room_uuid  |  e1ea105b | room uuid to be used during the training (socket events) |\n\n\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Create Training Room.md","order":1,"title":"Crete Training Room","meta":{"revision":0,"created":1730426968184,"version":0},"$loki":23},{"path":"/api/Spells","id":23,"parent":0,"name":"Spells","type":"node","meta":{"revision":0,"created":1730426968184,"version":0},"$loki":24},{"path":"/api/Spells/Download spell sound.md","id":24,"parent":23,"type":"child","text":"\n\n\n# Download spell sound\n\nAn endpoint to download the sound of a spell as wav file\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/spell/sound/download`\n\n**Method** : `POST`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"spellIdentifier\":\"e0bc16a4-e9d6-4b8d-8a8a-f9969af32f6d\"\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| spellIdentifier  |  e0bc16a4-e9d6-4b8d-8a8a-f9969af32f6d | an uuid of spell obtained with the <a href=\"https://game1-docs-f010acd54950.github.io/#/api/get%20all%20spells.md\" target=\"_blank\">/spell</a> endpoint |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n- File as fixed-length sequence of bytes\n- No json or base64\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n\n\n## Client example\n\nUse this snippet to download the file using nodejs\n\n- https://gist.github.com/srJones1/341525c8fc20b05bdf6f7786fc0147f8","name":"Download spell sound.md","order":2,"title":"Download spell sound","meta":{"revision":0,"created":1730426968185,"version":0},"$loki":25},{"path":"/api/Spells/get all spells.md","id":25,"parent":23,"type":"child","text":"\n\n\n# Get all spells\n\nAn endpoint to get all the spells. This should be used to render the grimoire\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/spell`\n\n**Method** : `GET`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n> Don't apply\n\n**Request Fields Description**\n\n> Don't apply\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": [\n        {\n            \"order\": 1301,\n            \"element\": 1,\n            \"type\": 1,\n            \"identifier\": \"fire-god-dance\",\n            \"english\": \"fire god dance\"\n        },\n        {\n            \"order\": 1302,\n            \"element\": 1,\n            \"type\": 1,\n            \"identifier\": \"swift-current-dance\",\n            \"english\": \"swift current dance\"\n        },\n    ]\n}        \n```\n\n**Response Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| element  |  1 | Natural element > 0:all 1:fire 2:water  3:plant  4:dark |\n| type  |  2 | spell type > 1:attack  2:health  3:defense |\n| english  | ring of a thousand flying planets | spell words to be showed in the grimoire page with an ancient font |\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"get all spells.md","order":1,"title":"Get all spells","meta":{"revision":0,"created":1730426968185,"version":0},"$loki":26},{"path":"/api/User","id":26,"parent":0,"name":"User","type":"node","meta":{"revision":0,"created":1730426968185,"version":0},"$loki":27},{"path":"/api/User/Validate if username is taken.md","id":27,"parent":26,"type":"child","text":"\n\n\n# Query : Validate if username us already taken\n\nAn endpoint to validate if username already exist\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/user/query/exist-username`\n\n**Method** : `POST`\n\n**Auth required** : No\n\n## Request\n\n**type: body-json**\n\n```json\n{\n    \"username\":\"mrmine\"\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| token  |  **** | The token |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"exist\": true\n    }\n}\n```\n\n**Response Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| exist  | true | true if username already exist, otherwise false |\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"Validate if username is taken.md","order":3,"title":"Validate if username is taken","meta":{"revision":0,"created":1730426968186,"version":0},"$loki":28},{"path":"/api/User/player profile.md","id":28,"parent":26,"type":"child","text":"\n\n\n# Player Profile\n\nGet basic information about player\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/user/profile`\n\n**Method** : `GET`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n--\n\n\n**Request Fields Description**\n\n--\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"username\": \"asuna\",\n        \"hp\": 100,\n        \"language\": \"es\",\n        \"genre\": \"m\",\n        \"squad_id\": \"B\"\n    }\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"player profile.md","order":4,"title":"Player profile","meta":{"revision":0,"created":1730426968186,"version":0},"$loki":29},{"path":"/api/User/player_register.md","id":29,"parent":26,"type":"child","text":"\n\n\n# Player register\n\nAn endpoint to create user\n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/user`\n\n**Method** : `POST`\n\n**Auth required** : No\n\n## Request\n\n**type: body-json**\n\n```json\n{\n  \"identifier\":\"jane\",\n  \"secret\":\"*****\"\n}\n```\n\n\n**Request Fields Description**\n\n| key | value | description |\n|------------|--------------|-------------|\n| identifier  |  Jane | player username |\n| secret  |  **** | player password |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\"\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n\n\n| code | description |\n|------------|-------------|\n| 500  | Unknown error  |\n| 400  | Bad request  |\n","name":"player_register.md","order":1,"title":"Player register","meta":{"revision":0,"created":1730426968186,"version":0},"$loki":30},{"path":"/api/User/player_update.md","id":30,"parent":26,"type":"child","text":"\n\n\n# User update\n\nAn endpoint to update user attributes. \n\n**Base Url** : `{{game_management_api_base_url}}`\n\n**Endpoint** : `/user`\n\n**Method** : `PUT`\n\n**Auth required** : Yes\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| Authorization  | Bearer AKfycbyF7II | security token with 3600 ml of duration|\n\n\n## Request\n\n**type: body-json**\n\n```json\n{\n  \"genre\":\"M\",\n  \"character_id\":\"A\",\n  \"squad_id\":\"B\",\n  \"player_username\":\"asuna\",\n  \"language\":\"es\",\n  \"register_type\":1,\n  \"login_type\":1,\n}\n```\n\n\n**Request Fields Description**\n\n| key | sample value | description |\n|------------|--------------|-------------|\n| genre  |  m | m=male or f=female. Lowercase |\n| character_id  |  A | different characters A,B,C,D,etc related to the avatar |\n| character_id  |  A | different squads [F]ire, [W]ater, [P]lant, [D]ark related to the squad_id squad |\n| player_username  | kirito | a string to be used as username in case the login is with facebook, tiktok or gmail |\n| language  |  es | 2 lowercase chars to represent the desired language for UI. Check https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes |\n| register_type  |  1 | 1 = guest, 2 = form, 3 = social network |\n| login_type  |  1 | 1 = user/password , 2=facebook, 3=tiktok, 4=gmail, 5=instagram |\n\n**Request Headers Description**\n\n| header key | header value | description |\n|------------|--------------|-------------|\n| content_type  |  application/json | allowed content type |\n\n\n## Response\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\"\n}\n```\n\n**Response Fields Description**\n\n--\n\n**Response Headers Description**\n\n--\n\n**Response codes**\n","name":"player_update.md","order":2,"title":"Player update","meta":{"revision":0,"created":1730426968186,"version":0},"$loki":31},{"path":"/features","id":31,"name":"features","type":"node","order":2,"title":"Features","meta":{"revision":0,"created":1730426968186,"version":0},"$loki":32},{"path":"/features/Creature Hunting","id":32,"parent":31,"name":"Creature Hunting","type":"node","meta":{"revision":0,"created":1730426968187,"version":0},"$loki":33},{"path":"/features/Creature Hunting/Real Creature Hunting - explanation.md","id":33,"parent":32,"type":"child","text":"\n\n\n# Real Creature Hunting - explanation\n\nThis feature allows the player to hunting a real creature of a gateway\n\n## Servers\n\n|name| sample value|description |\n|:--|:--|:--|\n|management api|{{game_management_api_base_url}}|api for game management features|\n|socket server|{{socket_base_url}}|socket server for training feature|\n\n## Glosary\n\n**Grimoire** are a spell book that contain symbols, incantations, charms, and instructions for invocations and the making of amulets. Although these texts have existed since ancient times, they became much more readily available after the advent of printing\n\n## Populate grimoire\n\nBefore the click on train button, maybe after the login and preferably async, a request to the <a href=\"https://game1-docs-f010acd54950.github.io/#/api/get%20all%20spells.md\" target=\"_blank\">/spell</a> endpoint should be made. The response is an array of spells to put on each page sequentially.\n\n\n\n## Recognizer initialization\n\n- When user clicks the button \"train\", the game should emit an event to **init-recognizer** with empty data. Inmediately after, show a kind of loading bar. This will start the voice recognizer in the server.\n\n```\n//javascript sample\nsocketio.emit('init-recognizer', {});\n```\n\n- When recognizer is ready the server emits an event with name: **recognizer-started**\n- After this, stop the loading bar and enter to the View\n\n## Create a room\n\nAfter the last step (recognizer initialization), perform an http request (GET) to [/room/creature](https://game1-docs-f010acd54950.github.io/#/api/Room/Create%20Creature%20Room.md) endpoint sending the Authorization header (Bearer ****). Response will be\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"room_uuid\": \"789ab074-8e98-4e78-8a36-20a60b3d9db6\"\n    }\n}\n```\n\n| name |  description |\n|--|--|\n| room_uuid  | identifier of room. This should send on each http request or socket event|\n\n## Start a match \n\n\nIf the [/room/creature](https://game1-docs-f010acd54950.github.io/#/api/Room/Create%20Creature%20Room.md) endpoint gave you a valid room uuid (not null), use it to start a match, sending it to the **start-match** socket event\n\n```json\n{\n    \"transport\": {\n      \"authorization\": \"bGciOiJI*****SldUIEJ\"\n    },\n    \"data\": {\n      \"room_uuid\": \"789ab074-8e98-4e78-8a36-20a60b3d9db6\"\n    }\n}\n```\n\nIf token and room uuid are fine, socket server emits a data event with id **match-started** with this data in case of success:\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n      \"room_uuid\": \"35379c71-699b-4c5f-a88b-6a15aeb324d6\",\n      \"player1_id\": 1,\n      \"player1_hp\": 58,\n      \"player1_fire\": 89,\n      \"player1_water\": 92,\n      \"player1_plant\": 79,\n      \"player1_dark\": 54,\n      \"player1_next_runes_challenge\":[\"11,10,4,5,1\",\"1,9,7,10,3\",\"1,4,7,10,12\"],\n      \"player2_id\": 1,\n      \"player2_hp\": 100,\n      \"player2_name\": \"stuffy grey ray\"\n  }\n}\n```\n\n| name |  description |\n|--|--|\n| room_uuid  | identifier of room. This should send on each http request or socket event|\n| player1_hp  | initial player HP|\n| player1_fire  | amount of fire potion of player|\n| player1_water  | amount of water potion of player|\n| player1_plant  | amount of plant potion of player|\n| player1_dark  | amount of dark potion of player|\n| player1_next_runes_challenge  | a collection with the runes to be solved by the player|\n| player2_hp  | initial creature HP|\n| player2_name  | creature name. Creature doesn't have potions|\n\nUse these values to set the player and create values like: names, hp, etc\n\n- Immediately after the response of **match-started** event, creature and player should start their moves.\n\n## Creature\n\n- Creature (c# in the mobile app) should emit the event creature-attack to the socket server : \n\nevent name: **creature-attack**\n\npayload\n\n```json\n{\n  \"transport\": {\n    \"authorization\": \"bGciOiJI*****SldUIEJ\"\n  },\n  \"data\": {\n    \"room_uuid\": \"99bd1a27-acd5-4a1f-a5e1-90f85b3ba422\",\n    \"squad\" : 0, \n    \"spell_type\": 1,\n    \"spell_id\": \"foo\",\n    \"solved_runes\": [\"1\"]\n  }\n}\n```\n\n| name | sample | description |\n|:--|:--|:--|\n| room_uuid  | ****** | identifier of room. This will send future requests|\n| authorization  | ***** | token bearer|\n| squad  | 0  | 0 = monster-v1, 1 = monster v2, 2 = black bulls, etc|\n| spell_type  | 1  |  1 = attack. Monster don't have other spells|\n| spell_id  | foo  | some nosense string because monster don't have spells|\n| solved_runes  | [\"1\"]  | array with random number because monster don't receive runes challenge|\n\n## Player\n\n### Spell\n\n- Player should choose the spell changing the pages of his grimoire. Sample https://youtu.be/eHasNubC4zo\n- After spell selection a button appears in front of ui. Like [this](https://i.ibb.co/30ZSJxb/voice-memo-app-fixed-2.gif) or [this](https://www.rd.com/wp-content/uploads/2022/04/RD-Hidden-Voice-Memo-Features-1_Record.gif?fit=700,700) but with microphone shape like [this](https://img.freepik.com/premium-vector/vector-microphone-icon-blue-microphone-button-flat-design-record-button-isolated_118339-1767.jpg)\n- If user press it, the recording should start\n- When player press stop, the spell should be sent as mono pcm 16 bit wav sound (wav_buffer field) to the event **send-audio** plus the room_uuid and other values\n\n```json\n{\n  \"transport\": {\n    \"authorization\": \"bGciOiJI*****SldUIEJ\"\n  },\n  \"data\": {\n    \"room_uuid\": \"99bd1a27-acd5-4a1f-a5e1-90f85b3ba422\",\n    \"wav_buffer\": <.....>,\n    \"spell_type\": 1,\n    \"spell_id\" : \"infernal_fire\"\n  }  \n}\n```\n\n| name | sample | description | \n|:--|:--|:--|\n| room_uuid  | ****** | identifier of room. This will send future requests|\n| wav_buffer  | ***** | mono pcm 16 bit wav buffer. Check the js implementation to get an idea|\n| spell_type  | 1  |  1 = attack, 2 = health, 3 = defense. This value should be obtained from the selected page in the grimoire|\n| spell_id  | endless-lunar-landscape  | spell identifier. This value should be obtained from the selected page in the grimoire|\n\nThe spell recognition could take long in the server. To prevent that the next actions collide, the server will emit an event with name **spell-details** and this body:\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n      \"processed\": true,\n      \"spellAccuracy\": 65\n  }\n}\n```\n\nWhen this happens, you should save this in a kind of global variable to be used in the next action. Javascript sample:\n\n```\nsocketio.on('spell-details', function (message) {\n    spellWasProcessed = message.content.processed;\n})    \n```\n\n## Runes\n\n- Then, N runes are showed (short period of time like3 o 5 seconds ) to the player. Player should memorized them\n- After viewing the runes, they dissapear and a stopwatch starts\n- Player should try to replicate the runes using his finger\n- If 30 seconds passed, close the runes UI and send a message : \"max time reached\". Client (c#) will send as far as the player has advanced\n- After that, if  the event **spell-details** was received (spellWasProcessed is true), a new event should be emitted from client to server with name **send-runes** and this json\n\n```json\n  {\n    \"transport\": {\n      \"authorization\": \"bGciOiJI*****SldUIEJ\"\n    },\n    \"data\": {\n      \"room_uuid\": \"99bd1a27-acd5-4a1f-a5e1-90f85b3ba422\",\n      \"solved_runes\": [[11,10,4,5,1],[1,9,7,10,3],[1,4,7,10,12]],\n      \"spell_type\": 1,\n      \"resolution_time_millis\": 3500\n    }\n  }\n```\n\n| name | sample | description |\n|:--|:--|:--|\n| solved_runes  | [\"1\"]  | array with random number because monster don't receive runes challenge|\n| spell_type  | 1  |  1 = attack, 2 = health, 3 = defense. This value should be obtained from the selected page in the grimoire|\n| resolution_time_millis  | 2600  |  Time in milliseonds used by player to repliccate the runes|\n\nIf at the moment to sent this json, the event **spell-details** was not received (spellWasProcessed is false), it means that spell detection (server) is taking long. To help the server, starts a loading bar until the **spell-details** is received. When it is received, send the event **send-runes** to the server with the explained body\n\nAfter the emition of **send-runes** event, clear the ui (timer, spell, selected page, etc) to start a new action\n\n## Update\n\n- The goal of this event is to update the hp (player and creature) in the unity app\n- After each attack (player or creature), the server emits an event with id: **round-update**\n- This event has this data:\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n      \"room_uuid\": \"99bd1a27-acd5-4a1f-a5e1-90f85b3ba422\",\n      \"player1_hp\": 19,\n      \"player1_fire\": 49,\n      \"player1_water\": 69,\n      \"player1_plant\": 96,\n      \"player1_dark\": 73,\n      \"player1_next_runes_challenge\":[\"3,5,7,9,12\",\"1,4,7,10,12\",\"7,10,9,4,5\"],\n      \"player2_hp\": 100\n    }\n}  \n```\n\nUsing this data,the client (c# game) should update the player and creature stats: hp and potions\n\n## Spell and runes accuracy\n\nTo show the user how good was its spell pronunciation and runes replication, after the emit of **send-runes** event, server will emit an event with name **player-action-stats** and this body\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n      \"runesAccuracy\": 60,\n      \"currentSpellAccuracy\": 45,\n      \"bonusTime\": 15\n    }\n}\n```\n\n| name | sample | description |\n|:--|:--|:--|\n| runesAccuracy  | 60  | a percent value. Show in the ui with a %|\n| currentSpellAccuracy  | 60  | a percent value. Show in the ui with a %|\n| bonusTime  | 60  | a percent value. Show in the ui with a %|\n\nShow the values in the ui just after **send-runes** event and before the next player action. Use a kind of transparect effect. It should dissapear after some seconds\n\n## Win Or Lose\n\nAfter each attack, player hp, player potions and creature hp should be updated using the data returned for event **round-update**\n\n- If hp of player reaches 0 or less, show a message \"You lose\"\n- If hp of creature reaches 0 or less, show a message \"You win\"\n\n## Error\n\nIn case of any error, server will emit an event with name **error** and this body\n\n```json\n{\n    \"code\": 500666,\n    \"message\": \"Failed to find room\",\n    \"errorDetails\" : {\n      \"request_id\": \"IyCKgXQx1pgUmoMGAAAB\",\n      \"error_summary_stack\": \"ERROR in app: Exception on /events/monitoring/ping\",\n      \"error_full_stack\" : \"ERROR in app: Exception on /events/v1/monitoring/ping [GET] Traceback (most recent call last): File /usr/local/lib/python2.7/site-packages/flask/app.py, line 1813, in full_dispatch_request rv = self.dispatch_request()\"\n    }\n}\n```\n\nShow the error to the user using a kind of popup like this\n\n![](https://i.ibb.co/v1c6h3r/error-sample-ui-ux.png)\n\nIf user press dismiss, exit the battle.","name":"Real Creature Hunting - explanation.md","order":1,"title":"Real Creature Hunting - explanation","meta":{"revision":0,"created":1730426968187,"version":0},"$loki":34},{"path":"/features/Game startup.md","id":34,"parent":31,"type":"child","text":"# Game Startup\n\n## Sequence diagram\n\n![image](https://github.com/user-attachments/assets/4e403307-8356-40cd-ab2a-73907451e420)\n\n\n<!-- @startuml\n\nskin rose\ntitle Flow: Startup\n\nactor Actor as player\nparticipant client as \"unity_game\"\nparticipant spells as \"management-api:\\n/spell\"\nparticipant country as \"management-api:\\n/country/query/find-by-position\"\nparticipant gateways as \"management-api:\\n/user/gateways/country\"\n\nplayer -> client : starts session\nclient -> spells : get all spells\\nasync (non blocking)\nclient -> country : get country info\\nasync (non blocking)\nclient -> gateways : get gateways and render\n\n@enduml  -->\n\n\n## Flow diagram\n\n![image](https://github.com/user-attachments/assets/456d0076-2b42-4e46-a3f2-f8d72c9874ac)\n\n<!-- @startuml\n\nskin rose\ntitle Flow: Startup\n\nstart\n\n:User starts a new session;\n\n:Get all spells for this player; \nnote right: Save it as global var\\n/spell\n\n:Get country details of this player; \nnote right: Send latitude/longitude,\\nsave the country.id in player-pref (cache)\\n/country/query/find-by-position\n\n:Get gateways of this player location(country); \nnote right: Send country.id,\\nSaveas global var\\n/user/gateways/country\n\n:Render the gateways in the map; \nnote right: Each gateway has an uuid to be used as key later.\\n Save it somewhere\n\nstop\n\n@enduml  -->\n","name":"Game startup.md","meta":{"revision":0,"created":1730426968187,"version":0},"$loki":35},{"path":"/features/Get Creatures of gateway.md","id":35,"parent":31,"type":"child","text":"# Creatures Rendering \n\n![image](https://github.com/user-attachments/assets/6e565c99-5dd8-4e77-aa69-17323cc70410)\n\n\n<!-- @startuml\n\nskin rose\ntitle Flow: Creatures rendering\n\nstart\n\nif (Is player inside of the radio of some gateway?) then (yes)\n  :Consume the endpoint to get \\nthe creatures of this gateway\\n\\nEndpoint name:\\nGet creatures by gateway uuid\\nEndpoint url:\\n/creature/query/find-by-gateway-uuid;\nelse (no)\n  :Player keep walking;\n  stop\nendif\n\n:Render the creatures using the returned json; \n\n:Creature has a special field called uuid.\\nSave it \"inside\" of creature to be \\n accesed when creature is clicked; \n\nif (Is player walking away outside the radio of gateway?) then (yes)\n  :Hide the creatures;\nelse (no)\n  :Update the creatures each 30 seconds\\n consuming the same rest endpoint;    \n  :Player is not walking, walking inside \\nof the readio or is resting inside of the radio; \n  stop\nendif\n\nstop\n\n@enduml -->","name":"Get Creatures of gateway.md","meta":{"revision":0,"created":1730426968187,"version":0},"$loki":36},{"path":"/features/Training","id":36,"parent":31,"name":"Training","type":"node","meta":{"revision":0,"created":1730426968187,"version":0},"$loki":37},{"path":"/features/Training/Creature Hunting","id":37,"parent":36,"name":"Creature Hunting","type":"node","meta":{"revision":0,"created":1730426968188,"version":0},"$loki":38},{"path":"/features/Training/Creature Hunting/training hunting a creature - diagrams.md","id":38,"parent":37,"type":"child","text":"\n\n\n# Training Creature Hunting\n\n## Part #1 : Previous to match\n\n<img src=\"https://github.com/game1-docs-f010acd54950/game1-docs-f010acd54950.github.io/assets/67037530/5e625ba1-ba93-4679-b757-a462730c762d\" width=500>\n\n<!-- @startuml\n\nskin rose\ntitle Flow: Training Part #1\n\nstart\n\n:User starts the app (login);\nnote right: access_token is stored\n\n:In the background get the spell list using hte http endpoint /spell;\n\n:Go to settings and then train option;\n\n:app should emit the event [init-recognizer] \\n and listen the [recognizer-started]; \n\nif (is recognizer started?) then (yes)\n  :Create a room using /room-training;\nelse (no)\n  :Show a loading;\nendif\n\nstop\n\n@enduml -->\n\n## Part #2 : Star the match\n\n<img src=\"https://github.com/game1-docs-f010acd54950/game1-docs-f010acd54950.github.io/assets/67037530/affc2239-cb4f-4886-882d-9da1344b42c7\" width=500>\n\n<!-- \n@startuml\n\nskin rose\ntitle Flow: Training Part #2\n\nstart\n\n:Using the room uuid start a new match\\n emitting the [start-match] socket event ;\n\n:Listen the event [match-started];\n\nif ([match-started] is received?) then (yes)\n  :Using the [match-started] json\\n update the player and monster stats;\nelse (no)\n  :Show a loading;\nendif\n\n:Immediately after the response of match-started event\\n creature and player should start their moves;\nnote right: monster only attacks\\nplayer can attack and heal\nstop\n\n@enduml -->\n\n## Part #3 : Creature attack\n\n<img src=\"https://github.com/game1-docs-f010acd54950/game1-docs-f010acd54950.github.io/assets/67037530/24a3761a-084d-41d3-bdb3-12bc3d1e8839\" width=500>\n\n<!-- \n@startuml\n\nskin rose\ntitle Flow: Training Part #3\n\nstart\n\n:No matter the player moves, creature begins to attack;\n\n:The attack is made emitting the [creature-attack] event;\n\n:Server receives the event, process it and emit the [round-update] event;\n\nif ([round-update] was received?) then (yes)\n  :Update the player stats using th received json;\n  note right: Use a timeout and show an error;\nelse (no)\n  :Show a loading;\nendif\n\nstop\n\n@enduml -->\n\n## Part #4 : Player movements\n","name":"training hunting a creature - diagrams.md","order":1,"title":"Training Creature Hunting - flows","meta":{"revision":0,"created":1730426968188,"version":0},"$loki":39},{"path":"/features/Training/Creature Hunting/training hunting a creature - explanation.md","id":39,"parent":37,"type":"child","text":"\n\n\n# Training Creature Hunting - explanation\n\nThis feature allows the player to hunting a creature as training\n\n## Servers\n\n|name| sample value|description |\n|:--|:--|:--|\n|management api|{{game_management_api_base_url}}|api for game management features|\n|socket server|{{socket_base_url}}|socket server for training feature|\n\n## Glosary\n\n**Grimoire** are a spell book that contain symbols, incantations, charms, and instructions for invocations and the making of amulets. Although these texts have existed since ancient times, they became much more readily available after the advent of printing\n\n## Populate grimoire\n\nBefore the click on train button, maybe after the login and preferably async, a request to the [/spell](https://game1-docs-f010acd54950.github.io/#/api/get%20all%20spells.md) endpoint should be made. The response is an array of spells to put on each page sequentially.\n\n## Recognizer initialization\n\n- When user clicks the button \"train\", the game should emit an event to **init-recognizer** with empty data. Inmediately after, show a kind of loading bar. This will start the voice recognizer in the server.\n\n```\n//javascript sample\nsocketio.emit('init-recognizer', {});\n```\n\n- When recognizer is ready the server emits an event with name: **recognizer-started**\n- After this, stop the loading bar and enter to the View\n\n## Create a room\n\nAfter the last step (recognizer initialization), perform an http request (GET) to [/room-training](https://game1-docs-f010acd54950.github.io/#/api/Room/Create%20Training%20Room.md){:target=\"_blank\"} endpoint sending the Authorization header (Bearer ****). Response will be\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n        \"room_uuid\": \"789ab074-8e98-4e78-8a36-20a60b3d9db6\"\n    }\n}\n```\n\n| name |  description |\n|--|--|\n| roomUuid  | identifier of room. This should send on each http request or socket event|\n\n## Start a match \n\n\nIf the {{game_management_api_base_url}}/room-training endpoint gave you a valid room uuid (not null), use it to start a match, sending it to the **start-match** socket event using `{{game_training_socket_base_url}}`\n\n```json\n{\n    \"transport\": {\n      \"authorization\": \"bGciOiJI*****SldUIEJ\"\n    },\n    \"data\": {\n      \"room_uuid\": \"789ab074-8e98-4e78-8a36-20a60b3d9db6\"\n    }\n}\n```\n\nIf token and room uuid are fine, server emits a data event with id **match-started** with this data in case of success:\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n      \"room_uuid\": \"35379c71-699b-4c5f-a88b-6a15aeb324d6\",\n      \"player1_id\": 1,\n      \"player1_hp\": 58,\n      \"player1_fire\": 89,\n      \"player1_water\": 92,\n      \"player1_plant\": 79,\n      \"player1_dark\": 54,\n      \"player1_next_runes_challenge\":[\"11,10,4,5,1\",\"1,9,7,10,3\",\"1,4,7,10,12\"],\n      \"player2_id\": 1,\n      \"player2_hp\": 100,\n      \"player2_name\": \"stuffy grey ray\"\n  }\n}\n```\n\n| name |  description |\n|--|--|\n| room_uuid  | identifier of room. This should send on each http request or socket event|\n| player1_hp  | initial player HP|\n| player1_fire  | amount of fire potion of player|\n| player1_water  | amount of water potion of player|\n| player1_plant  | amount of plant potion of player|\n| player1_dark  | amount of dark potion of player|\n| player1_next_runes_challenge  | a collection with the runes to be solved by the player|\n| player2_hp  | initial creature HP|\n| player2_name  | creature name. Creature doesn't have potions|\n\nUse these values to set the player and create values like: names, hp, etc\n\n- Immediately after the response of **match-started** event, creature and player should start their moves.\n\n## Creature\n\n- Creature (c# in the mobile app) should emit the event creature-attack to the socket server : \n\nevent name: **creature-attack**\n\npayload\n\n```json\n{\n  \"transport\": {\n    \"authorization\": \"bGciOiJI*****SldUIEJ\"\n  },\n  \"data\": {\n    \"room_uuid\": \"99bd1a27-acd5-4a1f-a5e1-90f85b3ba422\",\n    \"squad\" : 0, \n    \"spell_type\": 1,\n    \"spell_id\": \"foo\",\n    \"solved_runes\": [\"1\"]\n  }\n}\n```\n\n| name | sample | description |\n|:--|:--|:--|\n| room_uuid  | ****** | identifier of room. This will send future requests|\n| authorization  | ***** | token bearer|\n| squad  | 0  | 0 = monster-v1, 1 = monster v2, 2 = black bulls, etc|\n| spell_type  | 1  |  1 = attack. Monster don't have other spells|\n| spell_id  | foo  | some nosense string because monster don't have spells|\n| solved_runes  | [\"1\"]  | array with random number because monster don't receive runes challenge|\n\n## Player\n\n### Spell\n\n- Player should choose the spell changing the pages of his grimoire. Sample https://youtu.be/eHasNubC4zo\n- After spell selection a button appears in front of ui. Like [this](https://i.ibb.co/30ZSJxb/voice-memo-app-fixed-2.gif) or [this](https://www.rd.com/wp-content/uploads/2022/04/RD-Hidden-Voice-Memo-Features-1_Record.gif?fit=700,700) but with microphone shape like [this](https://img.freepik.com/premium-vector/vector-microphone-icon-blue-microphone-button-flat-design-record-button-isolated_118339-1767.jpg)\n- If user press it, the recording should start\n- When player press stop, the spell should be sent as mono pcm 16 bit wav sound (wav_buffer field) to the event **send-audio** plus the room_uuid and other values\n\n```json\n{\n  \"transport\": {\n    \"authorization\": \"bGciOiJI*****SldUIEJ\"\n  },\n  \"data\": {\n    \"room_uuid\": \"99bd1a27-acd5-4a1f-a5e1-90f85b3ba422\",\n    \"wav_buffer\": <.....>,\n    \"spell_type\": 1,\n    \"spell_id\" : \"infernal_fire\"\n  }  \n}\n```\n\n| name | sample | description | \n|:--|:--|:--|\n| room_uuid  | ****** | identifier of room. This will send future requests|\n| wav_buffer  | ***** | mono pcm 16 bit wav buffer. Check the js implementation to get an idea|\n| spell_type  | 1  |  1 = attack, 2 = health, 3 = defense. This value should be obtained from the selected page in the grimoire|\n| spell_id  | endless-lunar-landscape  | spell identifier. This value should be obtained from the selected page in the grimoire|\n\nThe spell recognition could take long in the server. To prevent that the next actions collide, the server will emit an event with name **spell-details** and this body:\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n      \"processed\": true,\n      \"spellAccuracy\": 65\n  }\n}\n```\n\nWhen this happens, you should save this in a kind of global variable to be used in the next action. Javascript sample:\n\n```\nsocketio.on('spell-details', function (message) {\n    spellWasProcessed = message.content.processed;\n})    \n```\n\n## Runes\n\n- Then, N runes are showed (short period of time like3 o 5 seconds ) to the player. Player should memorized them\n- After viewing the runes, they dissapear and a stopwatch starts\n- Player should try to replicate the runes using his finger\n- If 30 seconds passed, close the runes UI and send a message : \"max time reached\". Client (c#) will send as far as the player has advanced\n- After that, if  the event **spell-details** was received (spellWasProcessed is true), a new event should be emitted from client to server with name **send-runes** and this json\n\n```json\n  {\n    \"transport\": {\n      \"authorization\": \"bGciOiJI*****SldUIEJ\"\n    },\n    \"data\": {\n      \"room_uuid\": \"99bd1a27-acd5-4a1f-a5e1-90f85b3ba422\",\n      \"solved_runes\": [[11,10,4,5,1],[1,9,7,10,3],[1,4,7,10,12]],\n      \"spell_type\": 1,\n      \"resolution_time_millis\": 3500\n    }\n  }\n```\n\n| name | sample | description |\n|:--|:--|:--|\n| solved_runes  | [\"1\"]  | array with random number because monster don't receive runes challenge|\n| spell_type  | 1  |  1 = attack, 2 = health, 3 = defense. This value should be obtained from the selected page in the grimoire|\n| resolution_time_millis  | 2600  |  Time in milliseonds used by player to repliccate the runes|\n\nIf at the moment to sent this json, the event **spell-details** was not received (spellWasProcessed is false), it means that spell detection (server) is taking long. To help the server, starts a loading bar until the **spell-details** is received. When it is received, send the event **send-runes** to the server with the explained body\n\nAfter the emition of **send-runes** event, clear the ui (timer, spell, selected page, etc) to start a new action\n\n## Update\n\n- The goal of this event is to update the hp (player and creature) in the unity app\n- After each attack (player or creature), the server emits an event with id: **round-update**\n- This event has this data:\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n      \"room_uuid\": \"99bd1a27-acd5-4a1f-a5e1-90f85b3ba422\",\n      \"player1_hp\": 19,\n      \"player1_fire\": 49,\n      \"player1_water\": 69,\n      \"player1_plant\": 96,\n      \"player1_dark\": 73,\n      \"player1_next_runes_challenge\":[\"3,5,7,9,12\",\"1,4,7,10,12\",\"7,10,9,4,5\"],\n      \"player2_hp\": 100\n    }\n}  \n```\n\nUsing this data,the client (c# game) should update the player and creature stats: hp and potions\n\n## Spell and runes accuracy\n\nTo show the user how good was its spell pronunciation and runes replication, after the emit of **send-runes** event, server will emit an event with name **player-action-stats** and this body\n\n```json\n{\n    \"code\": 200000,\n    \"message\": \"success\",\n    \"content\": {\n      \"runesAccuracy\": 60,\n      \"currentSpellAccuracy\": 45,\n      \"bonusTime\": 15\n    }\n}\n```\n\n| name | sample | description |\n|:--|:--|:--|\n| runesAccuracy  | 60  | a percent value. Show in the ui with a %|\n| currentSpellAccuracy  | 60  | a percent value. Show in the ui with a %|\n| bonusTime  | 60  | a percent value. Show in the ui with a %|\n\nShow the values in the ui just after **send-runes** event and before the next player action. Use a kind of transparect effect. It should dissapear after some seconds\n\n## Win Or Lose\n\nAfter each attack, player hp, player potions and creature hp should be updated using the data returned for event **round-update**\n\n- If hp of player reaches 0 or less, show a message \"You lose\"\n- If hp of creature reaches 0 or less, show a message \"You win\"\n\n## Error\n\nIn case of any error, server will emit an event with name **error** and this body\n\n```json\n{\n    \"code\": 500666,\n    \"message\": \"Failed to find room\",\n    \"errorDetails\" : {\n      \"request_id\": \"IyCKgXQx1pgUmoMGAAAB\",\n      \"error_summary_stack\": \"ERROR in app: Exception on /events/monitoring/ping\",\n      \"error_full_stack\" : \"ERROR in app: Exception on /events/v1/monitoring/ping [GET] Traceback (most recent call last): File /usr/local/lib/python2.7/site-packages/flask/app.py, line 1813, in full_dispatch_request rv = self.dispatch_request()\"\n    }\n}\n```\n\nShow the error to the user using a kind of popup like this\n\n![](https://i.ibb.co/v1c6h3r/error-sample-ui-ux.png)\n\nIf user press dismiss, exit the battle.","name":"training hunting a creature - explanation.md","order":1,"title":"Training Creature Hunting - explanation","meta":{"revision":0,"created":1730426968189,"version":0},"$loki":40},{"path":"/root.md","id":40,"type":"child","text":"# Real Spells Online Documentation\n\nKnowledge base platform for game.\n","name":"root.md","meta":{"revision":0,"created":1730426968189,"version":0},"$loki":41},{"path":"/socket-events","id":41,"name":"socket-events","type":"node","order":1,"title":"Socket Events","meta":{"revision":0,"created":1730426968189,"version":0},"$loki":42}],"idIndex":null,"binaryIndices":{},"constraints":null,"uniqueNames":[],"transforms":{},"objType":"documents","dirty":false,"cachedIndex":null,"cachedBinaryIndex":null,"cachedData":null,"adaptiveBinaryIndices":true,"transactional":false,"cloneObjects":false,"cloneMethod":"parse-stringify","asyncListeners":false,"disableMeta":false,"disableChangesApi":true,"disableDeltaChangesApi":true,"autoupdate":false,"serializableIndices":true,"disableFreeze":true,"ttl":null,"maxId":42,"DynamicViews":[],"events":{"insert":[],"update":[],"pre-insert":[],"pre-update":[],"close":[],"flushbuffer":[],"error":[],"delete":[null],"warning":[null]},"changes":[],"dirtyIds":[]}],"databaseVersion":1.5,"engineVersion":1.5,"autosave":false,"autosaveInterval":5000,"autosaveHandle":null,"throttledSaves":true,"options":{"autoload":true,"serializationMethod":"normal","destructureDelimiter":"$<\n","recursiveWait":true,"recursiveWaitLimit":false,"recursiveWaitLimitDuration":2000,"started":1730426968194},"persistenceMethod":"fs","persistenceAdapter":null,"verbose":false,"events":{"init":[null],"loaded":[],"flushChanges":[],"close":[],"changes":[],"warning":[]},"ENV":"NODEJS"}